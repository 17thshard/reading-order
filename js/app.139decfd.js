(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/reading-order/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0892":function(e,t,n){"use strict";var r=n("0fba"),o=n.n(r);o.a},"0fb9":function(e,t,n){"use strict";var r=n("251b"),o=n.n(r);o.a},"0fba":function(e,t,n){},"21bb":function(e,t,n){"use strict";var r=n("2dad"),o=n.n(r);o.a},"251b":function(e,t,n){},"2ba2":function(e,t,n){},"2dad":function(e,t,n){},4661:function(e,t,n){},"4d8e":function(e,t,n){"use strict";var r=n("e75b"),o=n.n(r);o.a},"54d4":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=n("e37d"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s=(n("5c0b"),n("2877")),c={},l=Object(s["a"])(c,a,i,!1,null,null,null),d=l.exports,u=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home",on:{"!drop":function(t){return t.stopPropagation(),t.preventDefault(),e.loadLocalFile(t)},"!dragenter":function(t){return e.captureDrop(t)},"!dragover":function(t){return e.captureDrop(t)}}},[n("Legend",{attrs:{"connection-types":Object.values(e.connectionTypes),layers:e.layers,appearances:e.appearances,"sorted-books":e.sortedBooks},on:{sort:e.sort}}),n("CircleDiagram",{attrs:{entries:e.entries,"connection-types":e.connectionTypes,labels:e.entries===e.books?e.labels:[]}}),null!==e.selectedEntry?n("InfoBox",{attrs:{entry:e.entries[e.selectedEntry]}}):e._e()],1)},h=[],f=(n("b64b"),n("d3b7"),n("466d"),n("2ca0"),n("159b"),n("ddb0"),n("96cf"),n("2f62")),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("SvgPanZoom",{staticClass:"circle-diagram",attrs:{"dbl-click-zoom-enabled":!1,"custom-events-handler":e.panEventHandler}},[r("svg",{staticClass:"circle-diagram-svg",attrs:{viewBox:"0 0 1000 1000"}},[r("defs",[e._l(e.connectionTypes,(function(e,t){return r("marker",{key:t,attrs:{id:"triangle-"+t,viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"4",markerHeight:"4",orient:"auto"}},[r("path",{attrs:{d:"M 0 0 L 10 5 L 0 10 z",fill:e.color}})])})),r("marker",{attrs:{id:"triangle-mask",viewBox:"0 0 10 10",refX:"5",refY:"5",markerUnits:"strokeWidth",markerWidth:"4",markerHeight:"4",orient:"auto"}},[r("path",{attrs:{d:"M 0 0 L 10 5 L 0 10 z",fill:"#FFFFFF"}})]),r("linearGradient",{attrs:{id:"shine-x",x1:"0%",y1:"0%",x2:"100%",y2:"0%"}},[r("stop",{staticStyle:{"stop-color":"rgb(255,255,255)","stop-opacity":"0"},attrs:{offset:"0%"}}),r("stop",{staticStyle:{"stop-color":"rgb(255,255,255)","stop-opacity":"1"},attrs:{offset:"50%"}}),r("stop",{staticStyle:{"stop-color":"rgb(255,255,255)","stop-opacity":"0"},attrs:{offset:"100%"}})],1),r("linearGradient",{attrs:{id:"shine-y",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}},[r("stop",{staticStyle:{"stop-color":"rgb(255,255,255)","stop-opacity":"0"},attrs:{offset:"0%"}}),r("stop",{staticStyle:{"stop-color":"rgb(255,255,255)","stop-opacity":"1"},attrs:{offset:"50%"}}),r("stop",{staticStyle:{"stop-color":"rgb(255,255,255)","stop-opacity":"0"},attrs:{offset:"100%"}})],1)],2),r("transition-group",{staticClass:"svg-pan-zoom_viewport",attrs:{name:"fade",tag:"g"}},[r("image",{key:"cosmere-logo",attrs:{x:"300",y:"300",width:"400",height:"400",opacity:"0.05","xlink:href":n("ec67")}}),e._l(e.entries,(function(t){return r("CircleEntry",{key:"entry-"+t.id,attrs:{entry:t,angle:t.angle,radius:300,mute:null!==e.selectedEntry&&t.id!==e.selectedEntry&&!e.incomingConnections[t.id].includes(e.selectedEntry)&&!(t.connections||[]).some((function(t){return e.connectionTypes[t.type].active&&t.target===e.selectedEntry}))},on:{select:function(n){return e.select(t.id,n)},unselect:function(n){return e.unselect(t.id)}}},[e._v(" "+e._s(t.title)+" ")])})),e._l(e.connections,(function(t){return r("Arc",{key:"arc-"+t.startId+"."+t.endId,attrs:{connection:t,radius:290,mute:null!==e.selectedEntry&&e.selectedEntry!==t.startId&&e.selectedEntry!==t.endId,highlight:null!==e.selectedEntry&&(e.selectedEntry===t.startId||e.selectedEntry===t.endId)}})})),e._l(e.labels,(function(t,n){return r("CircleLabel",{key:"label-"+n,attrs:{label:t,"hover-depth":e.labelHoverDepth},on:{"begin-hover":e.beginLabelHover,"end-hover":e.endLabelHover}})}))],2)],1)])},y=[],v=(n("a4d3"),n("e01a"),n("99af"),n("4de4"),n("5db7"),n("d81d"),n("73d9"),n("e439"),n("dbb4"),n("07ac"),n("284c")),b=n("2fa7"),m=n("c8b5"),O=n.n(m),w=n("2c0f"),k=n.n(w),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{class:["circle-entry",{"circle-entry-inactive":!e.entry.active,"circle-entry-muted":e.mute}],attrs:{transform:"translate(500, 500) rotate("+e.renderedAngle+")"}},[n("text",{directives:[{name:"closable",rawName:"v-closable",value:{handler:e.handleOutsideClick,exclude:e.shouldNotClose},expression:"{handler: handleOutsideClick, exclude: shouldNotClose}"}],ref:"text",style:e.styles,attrs:{"dominant-baseline":"central","text-anchor":e.anchor,transform:"translate(0, -"+(e.radius+e.renderedPadding)+") rotate("+90*e.sign+")"},on:{mouseover:e.select,mouseout:e.unselect,click:e.toggle}},[e._t("default")],2),e.textWidth>=0?n("AppearanceGroup",{attrs:{appearances:e.entry.appearances.filter((function(e){return e.ref.active})),rotation:-e.renderedAngle,transform:"translate(0, -"+(e.radius+e.renderedPadding+e.textWidth+15)+")"}}):e._e()],1)},_=[],P=(n("a9e3"),n("a5cf"));function j(e,t){return(e%t+t)%t}function C(e){return j(e,360)}function E(e,t){return j(t-e+180,360)-180}function S(e,t){if(!(e instanceof r["a"])){var n=e.__vue__;return n?S(n,t):!!e.parentNode&&S(e.parentNode,t)}return!!t(e)||void 0!==e.$parent&&S(e.$parent,t)}var T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{staticClass:"appearance-group",attrs:{tag:"g",name:"fade-fast"}},e._l(e.appearances,(function(t,r){return n("Appearance",{key:t.type+"-"+t.id,attrs:{appearance:t,rotation:e.rotation,position:25*r}})})),1)},$=[],D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.showSpoilers?e.appearance.description:"Spoilers ahead! Enable spoilers in the options to the right to see them!",autoHide:!1,hideOnTargetClick:!1,trigger:"click hover"},expression:"{\n    content: showSpoilers\n      ? appearance.description\n      : 'Spoilers ahead! Enable spoilers in the options to the right to see them!',\n    autoHide: false,\n    hideOnTargetClick: false,\n    trigger: 'click hover',\n  }"}],class:["appearance","appearance-"+e.appearance.type],style:{"--appearance-color":e.appearance.ref.color},attrs:{transform:"translate(0, "+-e.position+") rotate("+e.rotation+")"}},[n("circle",{attrs:{r:"10"}}),n("text",{attrs:{"dominant-baseline":"central","text-anchor":"middle","font-size":"0.8rem"}},[e._v(" "+e._s(e.appearance.ref.initial)+" ")])])},H=[],L={name:"Appearance",props:{appearance:Object,position:Number,rotation:Number},computed:Object(f["b"])(["showSpoilers"])},A=L,I=(n("5bad"),Object(s["a"])(A,D,H,!1,null,null,null)),M=I.exports,B={name:"AppearanceGroup",components:{Appearance:M},props:{appearances:Array,rotation:Number}},q=B,N=(n("d2b6"),Object(s["a"])(q,T,$,!1,null,null,null)),R=N.exports,W={name:"CircleEntry",components:{AppearanceGroup:R},props:{entry:Object,angle:Number,radius:{type:Number,default:200},mute:Boolean},data:function(){return{renderedAngle:C(this.angle),renderedPadding:this.entry.padding||0,textWidth:-1,clicked:!1}},computed:{sign:function(){return this.renderedAngle>180?1:-1},anchor:function(){return this.renderedAngle>180?"end":"start"},styles:function(){for(var e,t,n=0;n<this.entry.categories.length;n+=1){var r=this.entry.categories[n];if(r.layer.active&&void 0!==r.color){e=r.color;break}}for(var o=0;o<this.entry.categories.length;o+=1){var a=this.entry.categories[o];if(void 0!==a.style){t=a.style;break}}return{fill:e,fontStyle:t}}},watch:{angle:function(e){P["a"].to(this.$data,1,{renderedAngle:C(e),ease:"Power1.easeInOut"})},"entry.padding":function(e){P["a"].to(this.$data,1,{renderedPadding:e||0,ease:"Power1.easeInOut"})}},mounted:function(){this.textWidth=this.$refs.text.getComputedTextLength()},methods:{toggle:function(){this.entry.active&&(this.clicked=!this.clicked,this.clicked?this.$emit("select",!0):this.$emit("unselect"))},select:function(){this.entry.active&&(this.clicked||this.$emit("select",!1))},unselect:function(){this.clicked||this.$emit("unselect")},handleOutsideClick:function(){this.clicked&&(this.clicked=!1,this.unselect())},shouldNotClose:function(e){return!!this.clicked&&S(e,(function(e){return!1===(e.$props||{}).mute||e.$el.classList.contains("info-box")}))}}},z=W,X=(n("8a2b"),Object(s["a"])(z,x,_,!1,null,null,null)),Y=X.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{class:["arc",{"arc-nodes-inactive":!e.connection.nodesActive,"arc-inactive":!e.connection.type.active,"arc-muted":e.mute}]},[n("Tooltip",{attrs:{text:e.showSpoilers?e.connection.description:"Spoilers ahead! Enable spoilers in the options to the right to see them!",options:{autoHide:!1,offset:5,hideOnTargetClick:!1,toggle:"click hover"},"follow-mouse":!0,disabled:e.mute}},[n("path",{staticClass:"arc-background",style:e.bgStyles,attrs:{d:e.path,fill:"none"},on:{mouseover:e.beginLocalHighlight,mouseout:e.endLocalHighlight}})]),n("path",{staticClass:"arc-foreground",style:e.styles,attrs:{d:e.path,fill:"none","marker-end":"url(#triangle-"+e.connection.type.id+")"}}),n("mask",{attrs:{id:"arc-path-"+e.renderedStart+"."+e.renderedEnd}},[n("path",{staticClass:"arc-foreground",attrs:{d:e.path,fill:"none",stroke:"white","stroke-width":e.connection.type.width,"marker-end":"url(#triangle-mask)"}})]),e.highlight||e.localHighlight?n("g",{staticClass:"arc-shine-container",attrs:{mask:"url(#arc-path-"+e.renderedStart+"."+e.renderedEnd+")"}},[n("rect",{class:["arc-shine","arc-shine-"+e.shineAxis],style:{"--shine-distance":e.shineDistance+"px"},attrs:{x:e.shineRectangle.x,y:e.shineRectangle.y,width:e.shineRectangle.width,height:e.shineRectangle.height,fill:"url(#shine-"+e.shineAxis+")"}})]):e._e()],1)},U=[];n("2af1");function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){Object(b["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J,Z,V={name:"Tooltip",abstract:!0,props:{text:String,options:Object,popperOptions:Object,followMouse:{type:Boolean,default:function(){return!1}},disabled:Boolean},render:function(){try{return this.$slots.default[0].data.directives=this.$slots.default[0].data.directives||[],this.disabled||this.$slots.default[0].data.directives.push({name:"tooltip",value:K({content:this.text},this.options,{popperOptions:K({},this.popperOptions||{},{onCreate:this.onPopperCreate})})}),this.$slots.default[0]}catch(e){throw new Error("Tooltip can only render one, and exactly one child component.")}},mounted:function(){var e=this;this.$nextTick((function(){e.followMouse&&e.$slots.default[0].elm.addEventListener("mouseover",e.onMouseOver)}))},updated:function(){var e=this;this.setupPopper(),this.$nextTick((function(){var t=e.$slots.default[0].elm;e.followMouse?t.addEventListener("mouseover",e.onMouseOver):t.removeEventListener("mouseover",e.onMouseOver)}))},methods:{onPopperCreate:function(e){var t=e.instance;this.popper=t,void 0===this.referenceElement&&(this.referenceElement=t.reference),this.setupPopper()},setupPopper:function(){var e=this;void 0!==this.popper&&(this.followMouse?this.popper.reference={getBoundingClientRect:function(){return{top:e.mousePos.pageY,right:e.mousePos.pageX,bottom:e.mousePos.pageY,left:e.mousePos.pageX,width:0,height:0}},clientWidth:0,clientHeight:0}:this.popper.reference=this.referenceElement,this.popper.update())},onMouseOver:function(e){var t=e.pageX,n=e.pageY;this.mousePos={pageX:t,pageY:n},this.popper&&this.popper.scheduleUpdate()}}},Q=V,ee=(n("0fb9"),Object(s["a"])(Q,J,Z,!1,null,null,null)),te=ee.exports;function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(n,!0).forEach((function(t){Object(b["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e){return e-Math.sign(e)}var ae={name:"Arc",components:{Tooltip:te},props:{connection:Object,radius:{type:Number,default:200},mute:Boolean,highlight:Boolean},data:function(){return{renderedStart:C(this.connection.start),renderedEnd:C(this.connection.end),localHighlight:!1,mousePos:{pageX:0,pageY:0}}},computed:re({},Object(f["b"])(["showSpoilers"]),{styles:function(){return{stroke:this.connection.type.color,strokeWidth:this.connection.type.width,strokeDasharray:this.connection.type.dash}},bgStyles:function(){return{stroke:this.connection.type.highlightColor,strokeWidth:10}},startPos:function(){var e=1.5*oe(this.signedSeparation),t=Math.PI*(this.renderedStart-90-e)/180;return{x:Math.cos(t)*this.radius+500,y:Math.sin(t)*this.radius+500}},endPos:function(){var e=1.5*oe(this.signedSeparation),t=Math.PI*(this.renderedEnd-90+e)/180;return{x:Math.cos(t)*this.radius+500,y:Math.sin(t)*this.radius+500}},signedSeparation:function(){return E(this.renderedStart,this.renderedEnd)/180},separation:function(){return Math.pow(Math.abs(this.signedSeparation),.7)},control1Pos:function(){return{x:(1-this.separation)*this.startPos.x+500*this.separation,y:(1-this.separation)*this.startPos.y+500*this.separation}},control2Pos:function(){return{x:(1-this.separation)*this.endPos.x+500*this.separation,y:(1-this.separation)*this.endPos.y+500*this.separation}},path:function(){return"\n      M ".concat(this.startPos.x," ").concat(this.startPos.y,"\n      C ").concat(this.control1Pos.x," ").concat(this.control1Pos.y,"\n        ").concat(this.control2Pos.x," ").concat(this.control2Pos.y,"\n        ").concat(this.endPos.x," ").concat(this.endPos.y,"\n      ")},slope:function(){return(this.endPos.y-this.startPos.y)/(this.endPos.x-this.startPos.x)},shineDistance:function(){var e=this.endPos[this.shineAxis]-this.startPos[this.shineAxis];return e+20*Math.sign(e)},shineAxis:function(){return Math.abs(this.slope)>1?"y":"x"},shineRectangle:function(){if("x"===this.shineAxis){var e=2*Math.abs(this.endPos.x-this.startPos.x);return{x:this.startPos.x-10,y:(this.startPos.y+this.endPos.y)/2-e/2,width:20,height:e}}var t=2*Math.abs(this.endPos.y-this.startPos.y);return{x:(this.startPos.x+this.endPos.x)/2-t/2,y:this.startPos.y-10,width:t,height:20}}}),watch:{"connection.start":function(e){P["a"].to(this.$data,1,{renderedStart:C(e),ease:"Power1.easeInOut"})},"connection.end":function(e){P["a"].to(this.$data,1,{renderedEnd:C(e),ease:"Power1.easeInOut"})}},methods:{beginLocalHighlight:function(){this.localHighlight=!0},endLocalHighlight:function(){this.localHighlight=!1}}},ie=ae,se=(n("fcc7"),Object(s["a"])(ie,F,U,!1,null,null,null)),ce=se.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("g",{class:["circle-label",{"circle-label-top":1===e.label.depth,"circle-label-sub":e.label.depth>1,"circle-label-hover":null!==e.hoverDepth&&e.hoverDepth<=e.label.depth}],on:{mouseenter:function(t){return e.$emit("begin-hover",e.label.depth)},mouseleave:function(t){return e.$emit("end-hover")}}},[n("defs",e._l(e.textPaths,(function(t,r){return n("path",{key:r,attrs:{id:"circle-label-"+e.radius+"-"+e.renderedStart+"-"+e.renderedEnd+"-line"+r,d:t}})})),0),n("path",{attrs:{d:e.bgPath,fill:"transparent"}}),n("path",{attrs:{d:e.path,fill:"none",stroke:e.label.color,"stroke-width":"7"}}),n("text",{attrs:{fill:e.label.color,"text-anchor":"middle","dominant-baseline":e.flip?"hanging":"baseline"}},e._l(e.lines,(function(t,r){return n("textPath",{key:r,attrs:{"xlink:href":"#circle-label-"+e.radius+"-"+e.renderedStart+"-"+e.renderedEnd+"-line"+r,"font-size":"1.5em",startOffset:"50%"}},[e._v(" "+e._s(t)+" ")])})),0)])},de=[];n("1276");function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(n,!0).forEach((function(t){Object(b["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t){var n=Math.PI*(e-90)/180;return{x:Math.cos(n)*t+500,y:Math.sin(n)*t+500}}var fe={name:"CircleLabel",props:{label:Object,hoverDepth:Number},data:function(){return{renderedStart:C(this.label.start),renderedEnd:C(this.label.end),localHighlight:!1,mousePos:{pageX:0,pageY:0}}},computed:pe({},Object(f["b"])(["showSpoilers"]),{lines:function(){return this.label.text.split("<br>")},radius:function(){return this.label.depth>1?580:680},bgPath:function(){var e=E(this.renderedEnd,this.renderedStart),t=this.radius+24*this.lines.length+16,n=he(this.renderedStart-3,this.radius-3),r=n.x,o=n.y,a=he(this.renderedEnd+3,this.radius-3),i=a.x,s=a.y,c=he(this.renderedEnd+3,t),l=c.x,d=c.y,u=he(this.renderedStart-3,t),p=u.x,h=u.y;return"\n      M ".concat(r," ").concat(o,"\n      A ").concat(this.radius," ").concat(this.radius," 0 ").concat(e>0?1:0," 1\n        ").concat(i," ").concat(s,"\n      L ").concat(l," ").concat(d,"\n      A ").concat(t," ").concat(t," 0 ").concat(e>0?1:0," 0\n        ").concat(p," ").concat(h,"\n      Z\n      ")},path:function(){var e=E(this.renderedEnd,this.renderedStart),t=he(this.renderedStart-1,this.radius),n=t.x,r=t.y,o=he(this.renderedEnd+1,this.radius),a=o.x,i=o.y;return"\n      M ".concat(n," ").concat(r,"\n      A ").concat(this.radius," ").concat(this.radius," 0 ").concat(e>0?1:0," 1\n        ").concat(a," ").concat(i,"\n      ")},flip:function(){return this.renderedStart>90&&this.renderedStart<270},textPaths:function(){var e=this;return this.lines.map((function(t,n){var r=E(e.renderedEnd,e.renderedStart),o=e.flip?n:e.lines.length-1-n,a=e.radius+24*o+12,i=he(e.renderedStart-5,a),s=he(e.renderedEnd+5,a),c=e.flip?s:i,l=c.x,d=c.y,u=e.flip?i:s,p=u.x,h=u.y;return"\n        M ".concat(l," ").concat(d,"\n        A ").concat(a," ").concat(a," 0 ").concat(r>0?1:0," ").concat(e.flip?0:1,"\n          ").concat(p," ").concat(h,"\n        ")}))}}),watch:{"label.start":function(e){P["a"].to(this.$data,1,{renderedStart:C(e),ease:"Power1.easeInOut"})},"label.end":function(e){P["a"].to(this.$data,1,{renderedEnd:C(e),ease:"Power1.easeInOut"})}}},ge=fe,ye=(n("8e7d"),Object(s["a"])(ge,le,de,!1,null,null,null)),ve=ye.exports;function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(n,!0).forEach((function(t){Object(b["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe={name:"CircleDiagram",components:{CircleLabel:ve,SvgPanZoom:k.a,CircleEntry:Y,Arc:ce},props:{entries:{type:Object,required:!0},connectionTypes:Object,labels:Array},data:function(){var e={haltEventListeners:["touchstart","touchend","touchmove","touchleave","touchcancel"],init:function(e){var t=e.instance,n=1,r=0,o=0;this.hammer=O()(e.svgElement,{inputClass:O.a.SUPPORT_POINTER_EVENTS?O.a.PointerEventInput:O.a.TouchInput}),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("panstart panmove",(function(e){"panstart"===e.type&&(r=0,o=0),t.panBy({x:e.deltaX-r,y:e.deltaY-o}),r=e.deltaX,o=e.deltaY})),this.hammer.on("pinchstart pinchmove",(function(e){"pinchstart"===e.type&&(n=t.getZoom(),t.zoomAtPoint(n*e.scale,{x:e.center.x,y:e.center.y})),t.zoomAtPoint(n*e.scale,{x:e.center.x,y:e.center.y})})),e.svgElement.addEventListener("touchmove",(function(e){e.preventDefault()}))},destroy:function(){this.hammer.destroy()}};return{selectionLock:!1,labelHoverDepth:null,labelHoverLockDepth:null,panEventHandler:e}},computed:me({},Object(f["b"])(["highlightSeries","selectedEntry"]),{incomingConnections:function(){var e=this,t={};return Object.values(this.entries).forEach((function(n){t[n.id]=t[n.id]||[],(n.connections||[]).filter((function(t){return e.connectionTypes[t.type].active})).forEach((function(e){t[e.target]=[].concat(Object(v["a"])(t[e.target]||[]),[n.id])}))})),t},connections:function(){var e=this;return Object.values(this.entries).flatMap((function(t){return(t.connections||[]).filter((function(t){return void 0!==e.entries[t.target]})).map((function(n){return{description:n.description,startId:t.id,endId:n.target,start:t.angle,end:e.entries[n.target].angle,type:e.connectionTypes[n.type],nodesActive:t.active&&e.entries[n.target].active}}))}))}}),watch:{highlightSeries:function(e){e?this.setLabelHoverLock(1):this.endLabelHoverLock()}},mounted:function(){this.highlightSeries&&this.setLabelHoverLock(1)},methods:{select:function(e,t){this.selectionLock&&e!==this.selectedEntry||(this.$store.commit("selectEntry",e),this.selectionLock=t)},unselect:function(e){this.selectionLock&&e!==this.selectedEntry||(this.$store.commit("selectEntry",null),this.selectionLock=!1)},beginLabelHover:function(e){(null===this.labelHoverLockDepth||e<this.labelHoverLockDepth)&&(this.labelHoverDepth=e)},endLabelHover:function(){null===this.labelHoverLockDepth?this.labelHoverDepth=null:this.labelHoverDepth=this.labelHoverLockDepth},setLabelHoverLock:function(e){this.labelHoverLockDepth=e,this.labelHoverDepth=e},endLabelHoverLock:function(){this.labelHoverDepth=null,this.labelHoverLockDepth=null}}},we=Oe,ke=(n("9c5c"),Object(s["a"])(we,g,y,!1,null,null,null)),xe=ke.exports;n("4e82");function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(n,!0).forEach((function(t){Object(b["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e){return void 0===e.children?0:Math.max.apply(Math,Object(v["a"])(e.children.map((function(e){return je(e)}))))+1}function Ce(e,t,n,r,o,a,i,s){var c=0,l=!1;return e.children.forEach((function(d){void 0===d.children?(t(d,a+c),c+=n,l=!0):c+=Ce(d,t,n,r,o+1,a+c,i,e.color||s)})),e.label&&i.push({text:e.label,color:e.color||s,start:a,end:a+c-(r-o)*n,depth:o}),c+(l?r-o:1)*n}function Ee(e,t){var n=e.filter((function(e){return void 0!==e.sorting&&void 0!==e.sorting[t]}));return n.sort((function(e,n){return e.sorting[t]-n.sorting[t]})),n.reduce((function(e,t,r){return Pe({},e,Object(b["a"])({},t.id,Pe({},t,{angle:r*(360/(n.length+1)),padding:0,get active(){return t.categories.reduce((function(e,t){return e&&t.active}),!0)}})))}),{})}function Se(e,t){Object.values(e).forEach((function(n){(n.connections||[]).forEach((function(r){if(void 0===t[r.type])throw new Error("Book ".concat(n.id," has connection of unknown type '").concat(r.type,"' targeting ").concat(r.target));if(void 0===e[r.target])throw new Error("Book ".concat(n.id," has connection of type ").concat(r.type," with unknown target '").concat(r.target,"'"))}))}))}function Te(e,t,n,r){r=void 0===r||r;var o=void 0!==n.activeByDefault?n.activeByDefault:r;if(void 0===e)return o;var a=e[t];return void 0===a?o:a instanceof Object?void 0===a[n.id]?o:!0===a[n.id]:"all"===a}var $e=function(e,t){var n=e["base-separation"],r=e.books,o=e.connections,a=e.layers,i=e.sorting,s=e.appearances,c={children:r},l={},d=[],u=je(c),p=o.reduce((function(e,n){return Pe({},e,Object(b["a"])({},n.id,Pe({},n,{active:Te(t,"connections",n)})))}),{}),h={},f=a.map((function(e,n){var r=Pe({},e,{order:n,active:void 0===t||void 0===t.layer?e.startActive:e.id===t.layer});return r.categories=e.categories.map((function(e){return Pe({},e,{layer:r,active:Te(t,"categories",e)})})),h=Pe({},h,{},r.categories.reduce((function(e,t){return Pe({},e,Object(b["a"])({},t.id,t))}),{})),r})),g=s.reduce((function(e,n){return Pe({},e,Object(b["a"])({},n.id,Pe({},n,{active:Te(t,"appearances",n,!1)})))}),{});Ce(c,(function(e,t){var n=e.categories.map((function(t){var n=h[t];if(void 0===n)throw new Error("Book ".concat(e.id," references unknown category '").concat(t,"'"));return n}));n.sort((function(e,t){return e.layer.order-t.layer.order}));var r=(e.appearances||[]).map((function(t){var n=g[t.id];if(void 0===n)throw new Error("Book ".concat(e.id," references unknown appearance '").concat(t.id,"'"));return Pe({},t,{ref:n})}));l[e.id]=Pe({},e,{categories:n,appearances:r,angle:t,get active(){return n.reduce((function(e,t){return e&&t.active}),!0)}})}),n,u,0,0,d),Se(l,p);var y=Object.values(l),v=i.map((function(e){return Pe({},e,{books:Ee(y,e.id)})}));return{books:l,sorted:v,connectionTypes:p,layers:f,appearances:Object.values(g),labels:d}},De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideCompletely,expression:"!hideCompletely"}],staticClass:"legend"},[n("div",{directives:[{name:"closable",rawName:"v-closable",value:{handler:e.handleIntroOutsideClick},expression:"{ handler: handleIntroOutsideClick }"}],class:["legend__intro",{"legend__intro--open":e.introToggled}]},[n("div",{staticClass:"legend__intro-toggle",on:{click:e.introToggleHandler}},[e._v(" info ")]),n("div",{class:["legend__intro-content",{"legend__intro-content-collapsed":e.introContentCollapsed}]},[n("h1",[e._v("Cosmere Reading Guide")]),n("p",[e._v("This reading guide exists to (1) illustrate how the cosmere fits together, (2) provide reading order guidance, (3) show connections between stories, and (4) provide awareness of unpublished works.")]),n("span",{staticClass:"legend__intro-content-toggle",domProps:{innerHTML:e._s(e.introContentCollapsed?"More details":"Less details")},on:{click:e.introMoreInfoToggleHandler}}),e._m(0)]),n("div",{staticClass:"legend__intro-close",on:{click:function(t){e.introToggled=!1}}},[e._v(" x ")])]),n("div",{directives:[{name:"closable",rawName:"v-closable",value:{handler:e.handleKeysOutsideClick},expression:"{ handler: handleKeysOutsideClick }"}],class:["legend__keys",{"legend__keys--open":e.keysToggled}]},[n("div",{staticClass:"legend__keys-toggle",on:{click:e.legendKeysToggleHandler}},[e._v(" legend ")]),n("div",{staticClass:"legend__keys-content"},[n("div",{staticClass:"legend-options"},[n("h2",[e._v("Options")]),n("span",{staticClass:"legend-options-item"},[n("label",{attrs:{for:"sort"}},[e._v("Order by")]),n("select",{attrs:{id:"sort"},on:{change:e.changeSort}},[n("option",{domProps:{value:null,selected:null===e.selectedOrder}},[e._v("Series")]),e._l(e.sortedBooks,(function(t){return n("option",{key:t.id,domProps:{value:t.id,selected:e.selectedOrder===t}},[e._v(" "+e._s(t.description)+" ")])}))],2)]),n("span",{staticClass:"legend-options-item"},[n("input",{attrs:{id:"show-connection-explanations",type:"checkbox"},domProps:{checked:e.showSpoilers},on:{input:function(t){return e.$store.commit("toggleExplanations",t.target.checked)}}}),n("label",{attrs:{for:"show-connection-explanations",title:"Explain connection & appearance details"}},[e._v(" Show spoilers ")])]),n("span",{staticClass:"legend-options-item"},[n("input",{attrs:{id:"highlight-series",type:"checkbox"},domProps:{checked:e.highlightSeries},on:{input:function(t){return e.$store.commit("toggleSeriesHighlight",t.target.checked)}}}),n("label",{attrs:{for:"highlight-series",title:"Activate arches around diagram"}},[e._v(" Activate series and planets ")])])]),n("div",{staticClass:"legend-categories"},[n("h2",[e._v("Categories")]),e._l(e.layers,(function(t){return n("Layer",{key:t.name,attrs:{layer:t},on:{"update-category-route":function(t){return e.updateRoute("categories",e.flatCategories,t)}}})}))],2),n("div",{staticClass:"legend-connections"},[n("h2",[e._v("Connections")]),e._l(e.connectionTypes,(function(t){return n("ConnectionPreview",{key:t.id,attrs:{type:t},on:{"update-route":function(t){return e.updateRoute("connections",e.connectionTypes,t)}}})}))],2),n("div",{staticClass:"legend-appearances"},[n("h2",[e._v("Appearances")]),e._l(e.appearances,(function(t){return n("AppearancePreview",{key:t.id,attrs:{appearance:t},on:{"update-route":function(t){return e.updateRoute("appearances",e.appearances,t)}}})}))],2)])])])},He=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"legend__intro-content-more"},[n("p",[e._v("(1) Books are grouped by series, world, and star system by default, and are listed in the clockwise direction.")]),n("p",[e._v("(2) There is no 'right way' to read the Cosmere. This guide presents and order similar to publication order that also minimizes the amount of jumping between different series. Simply read everything in each phase before moving to the next phase. Series should be read in the order listed. Alternatively, the list can be sorted by publication order.")]),n("p",[e._v("(3) Arrows illustrate connections between story. The 'target' includes some reference to the first. Different arrow styles note the significance of any references (to the story and to the greater cosmere), and can be taken as additional reading order advice. Click books to see info and highlight related arrows. Click arrows to see details.")]),n("p",[e._v("(4) Unpublished books may or may not be eventually published.")]),n("div",{staticClass:"legend-feedback"},[n("h2",[e._v("Feedback")]),n("ul",{staticClass:"feedback"},[n("li",[n("a",{attrs:{href:"mailto:joshua@17thshard.com"}},[e._v("Email")])]),n("li",[n("a",{attrs:{href:"https://github.com/17thshard/reading-order/issues/new"}},[e._v("Github")])]),n("li",[n("a",{attrs:{href:"https://www.17thshard.com/forum/profile/18320-jofwu/"}},[e._v("17th Shard")])]),n("li",[n("a",{attrs:{href:"https://www.reddit.com/message/compose/?to=jofwu"}},[e._v("Reddit")])])])])])}],Le=(n("7db0"),n("25f0"),n("5319"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:{content:e.type.details,trigger:"click hover",autoHide:!1,hideOnTargetClick:!1,boundariesElement:"viewport"},expression:"{\n    content: type.details,\n    trigger: 'click hover',\n    autoHide: false,\n    hideOnTargetClick: false,\n    boundariesElement: 'viewport'\n  }",modifiers:{left:!0}}],class:["connection-preview",{"connection-preview-active":e.type.active}]},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.type.active,expression:"type.active"}],attrs:{type:"checkbox",id:"chk-connection-"+e.type.id},domProps:{checked:Array.isArray(e.type.active)?e._i(e.type.active,null)>-1:e.type.active},on:{change:function(t){var n=e.type.active,r=t.target,o=!!r.checked;if(Array.isArray(n)){var a=null,i=e._i(n,a);r.checked?i<0&&e.$set(e.type,"active",n.concat([a])):i>-1&&e.$set(e.type,"active",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.type,"active",o)}}}),n("label",{attrs:{for:"chk-connection-"+e.type.id}},[n("svg",{staticClass:"connection-preview-icon",attrs:{width:"15",height:"10",viewBox:"0 0 15 5"}},[n("line",{attrs:{x1:"0",y1:"3",x2:"15",y2:"3",stroke:e.type.color,"stroke-width":e.type.width,"stroke-dasharray":e.type.dash}})]),e._v(" "+e._s(e.type.description)+" ")])])}),Ae=[],Ie={name:"ConnectionPreview",props:{type:Object},watch:{"type.active":function(e){this.$emit("update-route",{id:this.type.id,active:e})},$route:function(e){"all"===e.query.connections||"none"===e.query.connections?this.type.active="all"===e.query.connections:void 0!==e.query["connections.".concat(this.type.id)]&&(this.type.active="true"===e.query["connections.".concat(this.type.id)])}}},Me=Ie,Be=(n("57ca"),Object(s["a"])(Me,Le,Ae,!1,null,null,null)),qe=Be.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("details",{staticClass:"layer",attrs:{open:!0!==e.layer.startCollapsed}},[n("summary",[n("span",{staticClass:"layer__header"},[e._v(" "+e._s(e.layer.name)+" "),e.layer.active?n("EyeIcon",{staticClass:"layer-toggle",on:{click:function(e){e.preventDefault(),e.stopPropagation()}}}):n("EyeOffIcon",{staticClass:"layer-toggle",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.activate(t)}}})],1)]),e._l(e.layer.categories,(function(t){return n("CategoryPreview",{key:t.id,attrs:{category:t},on:{"update-route":function(t){return e.$emit("update-category-route",t)}}})}))],2)},Re=[],We=n("0a35"),ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:{content:e.category.details,trigger:"click hover",autoHide:!1,hideOnTargetClick:!1,boundariesElement:"viewport"},expression:"{\n    content: category.details,\n    trigger: 'click hover',\n    autoHide: false,\n    hideOnTargetClick: false,\n    boundariesElement: 'viewport'\n  }",modifiers:{left:!0}}],class:["category-preview",{"category-preview-active":e.category.active}],style:e.styles},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.category.active,expression:"category.active"}],attrs:{type:"checkbox",id:"chk-category-"+e.category.id},domProps:{checked:Array.isArray(e.category.active)?e._i(e.category.active,null)>-1:e.category.active},on:{change:function(t){var n=e.category.active,r=t.target,o=!!r.checked;if(Array.isArray(n)){var a=null,i=e._i(n,a);r.checked?i<0&&e.$set(e.category,"active",n.concat([a])):i>-1&&e.$set(e.category,"active",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.category,"active",o)}}}),n("label",{attrs:{for:"chk-category-"+e.category.id}},[e._v(e._s(e.category.description))])])},Xe=[],Ye={name:"CategoryPreview",props:{category:Object},computed:{styles:function(){return{color:this.category.color,fontStyle:this.category.style}}},watch:{"category.active":function(e){this.$emit("update-route",{id:this.category.id,active:e})},$route:function(e){"all"===e.query.categories||"none"===e.query.categories?this.category.active="all"===e.query.categories:void 0!==e.query["categories.".concat(this.category.id)]&&(this.category.active="true"===e.query["categories.".concat(this.category.id)])}}},Fe=Ye,Ue=(n("0892"),Object(s["a"])(Fe,ze,Xe,!1,null,null,null)),Ge=Ue.exports;function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(n,!0).forEach((function(t){Object(b["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze={name:"Layer",components:{CategoryPreview:Ge,EyeIcon:We["a"],EyeOffIcon:We["b"]},props:{layer:Object},watch:{$route:function(e){this.layer.active=e.query.layer===this.layer.id||void 0===e.query.layer&&this.layer.startActive}},methods:{activate:function(){this.$router.replace({query:Je({},this.$route.query,{layer:this.layer.id})})}}},Ve=Ze,Qe=(n("a0df"),Object(s["a"])(Ve,Ne,Re,!1,null,null,null)),et=Qe.exports,tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:{content:e.appearance.details,trigger:"click hover",autoHide:!1,hideOnTargetClick:!1,boundariesElement:"viewport"},expression:"{\n    content: appearance.details,\n    trigger: 'click hover',\n    autoHide: false,\n    hideOnTargetClick: false,\n    boundariesElement: 'viewport'\n  }",modifiers:{left:!0}}],class:["appearance-preview",{"appearance-preview-active":e.appearance.active}]},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.appearance.active,expression:"appearance.active"}],attrs:{type:"checkbox",id:"chk-appearance-"+e.appearance.id},domProps:{checked:Array.isArray(e.appearance.active)?e._i(e.appearance.active,null)>-1:e.appearance.active},on:{change:function(t){var n=e.appearance.active,r=t.target,o=!!r.checked;if(Array.isArray(n)){var a=null,i=e._i(n,a);r.checked?i<0&&e.$set(e.appearance,"active",n.concat([a])):i>-1&&e.$set(e.appearance,"active",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.appearance,"active",o)}}}),n("label",{attrs:{for:"chk-appearance-"+e.appearance.id}},[n("svg",{staticClass:"appearance-preview-icon",attrs:{width:"18",height:"18",viewBox:"0 0 18 18"}},[n("circle",{attrs:{r:"9",cx:"9",cy:"9",fill:e.appearance.color||"#fafafa"}}),n("text",{attrs:{x:"9",y:"9","dominant-baseline":"central","text-anchor":"middle","font-size":"0.8rem"}},[e._v(" "+e._s(e.appearance.initial)+" ")])]),e._v(" "+e._s(e.appearance.description)+" ")])])},nt=[],rt={name:"AppearancePreview",props:{appearance:Object},watch:{"appearance.active":function(e){this.$emit("update-route",{id:this.appearance.id,active:e})},$route:function(e){"all"===e.query.appearances||"none"===e.query.appearances?this.appearance.active="all"===e.query.appearances:void 0!==e.query["appearances.".concat(this.appearance.id)]&&(this.appearance.active="true"===e.query["appearances.".concat(this.appearance.id)])}}},ot=rt,at=(n("4d8e"),Object(s["a"])(ot,tt,nt,!1,null,null,null)),it=at.exports;function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(n,!0).forEach((function(t){Object(b["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt={name:"Legend",components:{AppearancePreview:it,Layer:et,ConnectionPreview:qe},props:{connectionTypes:Array,layers:Array,appearances:Array,sortedBooks:Array},data:function(){return{introToggled:!this.isInfoHiddenByDefault(),introContentCollapsed:!this.isIntroContentCollapsedByDefault(),keysToggled:!this.isLegendHiddenByDefault(),selectedOrder:null,sortInitialized:!1}},computed:ct({},Object(f["b"])(["showSpoilers","highlightSeries"]),{flatCategories:function(){return this.layers.reduce((function(e,t){return[].concat(Object(v["a"])(e),Object(v["a"])(t.categories))}),[])},hideCompletely:function(){return"true"===this.$route.query["hide-ui"]}}),watch:{selectedOrder:function(e){null===e?this.$emit("sort",!1):this.$emit("sort",e.books)},sortedBooks:function(e){var t=this;this.sortInitialized||(this.selectedOrder=e.find((function(e){return e.id===t.$route.query.order}))||null,this.sortInitialized=!0)},$route:function(e,t){e.query.order!==t.query.order&&(this.selectedOrder=this.sortedBooks.find((function(t){return t.id===e.query.order}))||null)}},mounted:function(){document.addEventListener("keyup",this.toggleUi)},destroyed:function(){document.removeEventListener("keyup",this.toggleUi)},methods:{handleIntroOutsideClick:function(){this.introToggled&&this.areClosablesHiddenByDefault()&&(localStorage.setItem("introToggled",!1),this.introToggled=!1)},handleKeysOutsideClick:function(){this.keysToggled&&this.areClosablesHiddenByDefault()&&(localStorage.setItem("keysToggled",!1),this.keysToggled=!1)},isLegendHiddenByDefault:function(){var e=localStorage.getItem("keysToggled");return void 0===e&&(e=this.areClosablesHiddenByDefault()),!("true"===e)},isInfoHiddenByDefault:function(){var e=localStorage.getItem("introToggled");return void 0===e&&(e=this.areClosablesHiddenByDefault()),!("true"===e)},isIntroContentCollapsedByDefault:function(){var e=localStorage.getItem("introContentCollapsed");return void 0===e||e},areClosablesHiddenByDefault:function(){return window.matchMedia("(max-width: 1000px)").matches},introToggleHandler:function(){localStorage.setItem("introToggled",!this.introToggled),this.introToggled=!this.introToggled},legendKeysToggleHandler:function(){localStorage.setItem("keysToggled",!this.keysToggled),this.keysToggled=!this.keysToggled},introMoreInfoToggleHandler:function(){localStorage.setItem("introContentCollapsed",!this.introContentCollapsed),this.introContentCollapsed=!this.introContentCollapsed},toggleUi:function(e){"KeyH"===e.code&&(this.hideCompletely?this.$router.replace({query:ct({},this.$route.query,{"hide-ui":void 0})}):this.$router.replace({query:ct({},this.$route.query,{"hide-ui":"true"})}))},changeSort:function(e){""===e.target.value?this.$router.replace({query:ct({},this.$route.query,{order:void 0})}):this.$router.replace({query:ct({},this.$route.query,{order:e.target.value})})},updateRoute:function(e,t,n){var r,o=t.every((function(e){return e.active})),a=!t.some((function(e){return e.active})),i=this.$route.query;if(o||a)return Object.keys(i).forEach((function(t){t.startsWith("".concat(e,"."))&&delete i[t]})),void this.$router.replace({query:ct({},i,Object(b["a"])({},e,o?"all":"none"))});this.$router.replace({query:ct({},i,(r={},Object(b["a"])(r,e,void 0),Object(b["a"])(r,"".concat(e,".").concat(n.id),n.active.toString()),r))})}}},dt=lt,ut=(n("e1b1"),Object(s["a"])(dt,De,He,!1,null,null,null)),pt=ut.exports,ht=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{directives:[{name:"closable",rawName:"v-closable",value:{handler:function(){e.expanded=!1}},expression:"{ handler: () => { this.expanded = false } }"}],class:["info-box",{"info-box--expanded":t.expanded}]},[r("button",{staticClass:"info-box__toggle",on:{click:function(e){t.expanded=!t.expanded}}},[t._v(" "+t._s(t.expanded?"Hide Details":"Show Details")+" ")]),r("h2",{staticClass:"info-box__title",domProps:{innerHTML:t._s(this.entry.title2)}}),r("span",{staticClass:"info-box__line"},[r("strong",[t._v("Series: ")]),r("span",{domProps:{innerHTML:t._s(t.entry.series||"None")}})]),r("span",{staticClass:"info-box__line"},[r("strong",[t._v("World: ")]),r("span",{domProps:{innerHTML:t._s(t.entry.world||"None")}})]),r("span",{staticClass:"info-box__line"},[r("strong",[t._v("System: ")]),r("span",{domProps:{innerHTML:t._s(t.entry.system||"None")}})]),r("span",{staticClass:"info-box__line"},[r("strong",[t._v("Publication: ")]),r("span",{domProps:{innerHTML:t._s(t.entry.publication||"n/a")}})]),void 0!==t.entry.chronology?[r("strong",{staticClass:"info-box__chronology-title"},[t._v("Chronology:")]),r("p",{staticClass:"info-box__chronology",domProps:{innerHTML:t._s(t.entry.chronology)}})]:t._e(),void 0!==t.entry.au||void 0!==t.entry.link?r("div",{staticClass:"info-box__notes"},[t.entry.au?r("span",{staticClass:"info-box__line",domProps:{innerHTML:t._s(t.entry.au)}}):t._e(),t.entry.link?r("span",{staticClass:"info-box__line",domProps:{innerHTML:t._s(t.entry.link)}}):t._e()]):t._e()],2)},ft=[],gt={name:"InfoBox",props:{entry:Object},data:function(){return{expanded:!1}}},yt=gt,vt=(n("734b"),Object(s["a"])(yt,ht,ft,!1,null,null,null)),bt=vt.exports;function mt(e){var t={},n=["connections","categories","appearances"];return n.forEach((function(e){t[e]={}})),Object.keys(e||{}).forEach((function(r){n.forEach((function(n){if(r!==n||"all"!==e[r]&&"none"!==e[r]){if(r.startsWith("".concat(n,"."))&&t[n]instanceof Object){var o=r.substring(n.length+1);t[n][o]="true"===e[r]}}else t[n]=e[r]}))})),e.layer&&(t.layer=e.layer),t}var Ot={name:"home",components:{InfoBox:bt,Legend:pt,CircleDiagram:xe},data:function(){return{entries:{},books:{},sortedBooks:[],connectionTypes:{},layers:[],appearances:[],labels:[]}},computed:Object(f["b"])(["selectedEntry"]),mounted:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=regeneratorRuntime,t.next=3,regeneratorRuntime.awrap(fetch("./data.json"));case 3:return t.t1=t.sent.json(),t.next=6,t.t0.awrap.call(t.t0,t.t1);case 6:e=t.sent,this.loadData(e);case 8:case"end":return t.stop()}}),null,this)},methods:{loadData:function(e){var t=$e(e,mt(this.$route.query)),n=t.books,r=t.sorted,o=t.connectionTypes,a=t.layers,i=t.appearances,s=t.labels;this.entries=n,this.books=n,this.sortedBooks=r,this.connectionTypes=o,this.layers=a,this.appearances=i,this.labels=s},sort:function(e){this.entries=!1===e?this.books:e},loadLocalFile:function(e){var t=this,n=e.dataTransfer.files[0];if(void 0!==n&&n.type.match("application.json")){e.preventDefault(),e.stopPropagation();var r=new FileReader;r.onload=function(e){var n=e.target.result;try{t.loadData(JSON.parse(n))}catch(r){alert("Could not load data JSON: ".concat(r))}},r.readAsText(n)}},captureDrop:function(e){e.dataTransfer.dropEffect="move",e.preventDefault()}}},wt=Ot,kt=(n("21bb"),Object(s["a"])(wt,p,h,!1,null,null,null)),xt=kt.exports;r["a"].use(u["a"]);var _t=[{path:"/",name:"home",component:xt}],Pt=new u["a"]({routes:_t}),jt=Pt,Ct=n("9483");function Et(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}Object(Ct["a"])("".concat("/reading-order/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var St={install:function(e){e.directive("closable",{bind:function(e,t){var n=!1,r=null;e.handleOutsideTouchStart=function(e){n=e.touches.length>1,r={x:e.touches[0].screenX,y:e.touches[0].screenY}},e.handleOutsideClick=function(o){var a;if(a=o.touches?{x:o.changedTouches[0].screenX,y:o.changedTouches[0].screenY}:{x:o.screenX,y:o.screenY},!(n||null!==r&&Et(a,r)>100)){n=!1,o.stopPropagation();var i=t.value,s=i.handler,c=i.exclude,l=(c||function(){return!1})(o.target);e.contains(o.target)||l||s()}},document.addEventListener("click",e.handleOutsideClick),document.addEventListener("touchstart",e.handleOutsideTouchStart),document.addEventListener("touchend",e.handleOutsideClick)},unbind:function(e){document.removeEventListener("click",e.handleOutsideClick),document.removeEventListener("touchstart",e.handleOutsideTouchStart),document.removeEventListener("touchend",e.handleOutsideClick)}})}};r["a"].use(f["a"]);var Tt={showSpoilers:"true"===window.localStorage.getItem("showSpoilers")||"true"===window.localStorage.getItem("explainConnections"),highlightSeries:"true"===window.localStorage.getItem("highlightSeries"),selectedEntry:null};window.localStorage.setItem("showSpoilers",Tt.showSpoilers),window.localStorage.removeItem("explainConnections");var $t=new f["a"].Store({state:Tt,mutations:{toggleExplanations:function(e,t){e.showSpoilers=t,window.localStorage.setItem("showSpoilers",t)},toggleSeriesHighlight:function(e,t){e.highlightSeries=t,window.localStorage.setItem("highlightSeries",t)},selectEntry:function(e,t){e.selectedEntry=t}}});r["a"].config.productionTip=!1,r["a"].use(St),r["a"].use(o["a"]),window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault()})),new r["a"]({router:jt,store:$t,render:function(e){return e(d)}}).$mount("#app")},"57ca":function(e,t,n){"use strict";var r=n("2ba2"),o=n.n(r);o.a},"5bad":function(e,t,n){"use strict";var r=n("78ef"),o=n.n(r);o.a},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),o=n.n(r);o.a},"734b":function(e,t,n){"use strict";var r=n("4661"),o=n.n(r);o.a},"78ef":function(e,t,n){},"8a2b":function(e,t,n){"use strict";var r=n("f8b4"),o=n.n(r);o.a},"8ada":function(e,t,n){},"8e7d":function(e,t,n){"use strict";var r=n("91ee"),o=n.n(r);o.a},"91ee":function(e,t,n){},"9c0c":function(e,t,n){},"9c5c":function(e,t,n){"use strict";var r=n("8ada"),o=n.n(r);o.a},a0df:function(e,t,n){"use strict";var r=n("54d4"),o=n.n(r);o.a},a47e:function(e,t,n){},c1ae:function(e,t,n){},d2b6:function(e,t,n){"use strict";var r=n("e03a"),o=n.n(r);o.a},e03a:function(e,t,n){},e1b1:function(e,t,n){"use strict";var r=n("c1ae"),o=n.n(r);o.a},e75b:function(e,t,n){},ec67:function(e,t,n){e.exports=n.p+"img/cosmere.a50051a3.svg"},f8b4:function(e,t,n){},fcc7:function(e,t,n){"use strict";var r=n("a47e"),o=n.n(r);o.a}});